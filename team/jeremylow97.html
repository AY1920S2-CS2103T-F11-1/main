<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]--><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="Asciidoctor 1.5.6.1"><title>Low Zhang Xian - Project Portfolio</title><link rel="stylesheet" href="../stylesheets/gh-pages.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.5.0/css/font-awesome.min.css">
<link rel="stylesheet" href="../stylesheets/coderay-asciidoctor.css"></head><body class="article"><div id="seedu-header"><nav class="navbar navbar-lg navbar-light bg-lighter"><div class="container"><a class="navbar-brand" href="https://se-edu.github.io/"><img src="../images/SeEduLogo.png" alt="SE-EDU"></a><ul class="navbar-nav"><li class="nav-item"><a class="nav-link active" href="../index.html">Calgo</a></li><li class="nav-item"><a class="nav-link" href="https://se-edu.github.io/collate">Collate</a></li><li class="nav-item"><a class="nav-link" href="https://se-edu.github.io/se-book">Book</a></li><li class="nav-item"><a class="nav-link" href="https://se-edu.github.io/learningresources">Resources</a></li></ul></div></nav></div><div id="site-header"><nav class="navbar navbar-light bg-light"><div class="container"><a class="navbar-brand" href="../index.html">Calgo</a><ul class="navbar-nav"><li class="nav-item"><a class="nav-link" href="../UserGuide.html">User Guide</a></li><li class="nav-item"><a class="nav-link" href="../DeveloperGuide.html">Developer Guide</a></li><li class="nav-item"><a class="nav-link active" href="../AboutUs.html">About Us</a></li><li class="nav-item"><a class="nav-link" href="../ContactUs.html">Contact Us</a></li><li class="navitem"><a class="nav-link" href="https://github.com/AY1920S2-CS2103T-F11-1/main"><span class="fa fa-github fa-lg" aria-hidden="true"></span>&nbsp;View on GitHub</a></li></ul></div></nav></div><div id="header"><h1>Low Zhang Xian - Project Portfolio</h1></div><div id="content"><div class="sect1">
<h2 id="project-calgo"><a class="link" href="#project-calgo">PROJECT: CALGO</a></h2>
<div class="sectionbody">
<hr>
<div class="sect2">
<h3 id="overview"><a class="link" href="#overview">Overview</a></h3>
<div class="paragraph">
<p>This Project Portfolio page aims to showcase my contributions to Calgo - a Software Engineering project developed during my second
year of undergraduate studies at the National University of Singapore.</p>
</div>
<div class="sect3">
<h4 id="about-the-team"><a class="link" href="#about-the-team">About the Team</a></h4>
<div class="paragraph">
<p>We are 5 Year 2 Computer Science undergraduates reading CS2103T: Software Engineering.</p>
</div>
</div>
<div class="sect3">
<h4 id="about-the-project"><a class="link" href="#about-the-project">About the Project</a></h4>
<div class="paragraph">
<p>Calgo was created to help foodies achieve their fitness goals. Our story first began when the team was given the source code of <a href="https://github.com/nus-cs2103-AY1920S1/addressbook-level3">Address Book Level 3 (AB3) project</a>.
We were challenged to collaborate as a team to morph this into a new product incrementally using Brownfield software development.</p>
</div>
<div class="paragraph">
<p>As all of us were food lovers, we decided to embark on this journey to create Calgo, a personal meal tracking assistant. Today,
Calgo is well-equipped to help users keep track of their meal consumption and store all their favourite food, along with its nutritional information.
On top of this, Calgo has the ability to offer our users insightful reports based on their data. Calgo was created with a strong emphasis
on providing the best user experience to our users.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="summary-of-contributions"><a class="link" href="#summary-of-contributions">Summary of contributions</a></h3>
<div class="ulist">
<ul>
<li>
<p><strong>Major enhancement</strong>: I implemented the <code>update</code> command.</p>
<div class="ulist">
<ul>
<li>
<p>What it does: This command allows the user to add new <code>Food</code> entries or edit existing <code>Food</code> entries in the <code>Food Record</code>.</p>
</li>
<li>
<p>Justification: Instead of having two separate commands: add and edit to perform the function of updating the Food Record, this smart
command decides whether to add or edit depending on whether the Food entered by the user exists in the Food Record. This improves user experience
and reduces the necessity of another command.</p>
</li>
<li>
<p>Highlights: Implementing this requires comprehensive understanding of the entire application architecture. Additional thought and effort
was required to ensure that the process is seamless for the user.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Major enhancement</strong>: I implemented the Real-time Suggestion feature</p>
<div class="ulist">
<ul>
<li>
<p>What it does: This feature shows the user existing similar Food items in real time when using any of these three commands: <code>update</code>, <code>delete</code>, <code>nom</code>.</p>
</li>
<li>
<p>Justification: Instead of the need to use additional commands or having to manually scroll through the <code>Food Record</code>, this feature allows user
to know whether a particular Food item already exists. This is especially helpful for these three core commands that generally require this knowledge.</p>
</li>
<li>
<p>Highlights: This enhancement shows our emphasis on providing a good user experience to the user. It also requires a good understanding of the all
core components used by the application to achieve this.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Minor enhancement</strong>: I designed the GUI for the <code>DailyFoodList</code></p>
<div class="ulist">
<ul>
<li>
<p>What it does: This enhancement helps the DailyFoodList be displayed in a more minimalistic and inituitive manner.</p>
</li>
<li>
<p>Justification: This helps the user quickly see important aspects of their meal consumption, such as the <code>Name</code>, <code>Index</code>, <code>Portion</code> and <code>Rating</code>
of each Food consumed. This improves the design and also user experience for the user.</p>
</li>
<li>
<p>Highlights: This enhancement is well-designed with good color scheme. A good mix of understanding of JavaFX components and research into new JavaFX APIs
were required to achieve this.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Code contributed</strong>: You can view my contributions to Calgo <a href="https://nus-cs2103-ay1920s2.github.io/tp-dashboard/#search=jeremylow97&amp;sort=groupTitle&amp;sortWithin=title&amp;since=2020-02-14&amp;timeframe=commit&amp;mergegroup=false&amp;groupSelect=groupByRepos&amp;breakdown=false&amp;tabOpen=true&amp;tabType=authorship&amp;tabAuthor=jeremylow97&amp;tabRepo=AY1920S2-CS2103T-F11-1%2Fmain%5Bmaster%5D">here</a>.</p>
</li>
<li>
<p><strong>Other contributions</strong>:</p>
<div class="ulist">
<ul>
<li>
<p>Documentation:</p>
<div class="ulist">
<ul>
<li>
<p>Contributed sections for delete and update commands in User Guide: <a href="https://github.com/AY1920S2-CS2103T-F11-1/main/pull/69">#69</a>, <a href="https://github.com/AY1920S2-CS2103T-F11-1/main/pull/269">#269</a>, <a href="https://github.com/AY1920S2-CS2103T-F11-1/main/pull/286">#286</a></p>
</li>
<li>
<p>Contributed sections for Logic Component, Modifying the Food Record and Real-time Suggestion for existing Food in Food Record for the Developer Guide: <a href="https://github.com/AY1920S2-CS2103T-F11-1/main/pull/69">#69</a>, <a href="https://github.com/AY1920S2-CS2103T-F11-1/main/pull/128">#128</a>, <a href="https://github.com/AY1920S2-CS2103T-F11-1/main/pull/279">#279</a>, <a href="https://github.com/AY1920S2-CS2103T-F11-1/main/pull/286">#286</a>, <a href="https://github.com/AY1920S2-CS2103T-F11-1/main/pull/295">#295</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Project and team management:</p>
<div class="ulist">
<ul>
<li>
<p>Morphed test cases for AB3 to new features in Calgo: <a href="https://github.com/AY1920S2-CS2103T-F11-1/main/pull/136">#136</a>, <a href="https://github.com/AY1920S2-CS2103T-F11-1/main/pull/139">#139</a></p>
</li>
<li>
<p>Update team pages/documentation: <a href="https://github.com/AY1920S2-CS2103T-F11-1/main/pull/69">#69</a>, <a href="https://github.com/AY1920S2-CS2103T-F11-1/main/pull/128">#128</a>, <a href="https://github.com/AY1920S2-CS2103T-F11-1/main/pull/130">#130</a>, <a href="https://github.com/AY1920S2-CS2103T-F11-1/main/pull/205">#205</a>, <a href="https://github.com/AY1920S2-CS2103T-F11-1/main/pull/251">#251</a>, <a href="https://github.com/AY1920S2-CS2103T-F11-1/main/pull/269">#269</a>, <a href="https://github.com/AY1920S2-CS2103T-F11-1/main/pull/279">#279</a>, <a href="https://github.com/AY1920S2-CS2103T-F11-1/main/pull/286">#286</a>, <a href="https://github.com/AY1920S2-CS2103T-F11-1/main/pull/295">#295</a>, <a href="https://github.com/AY1920S2-CS2103T-F11-1/main/pull/296">#296</a></p>
</li>
<li>
<p>Software Developer: Handled object modelling, designing overall architecture and maintaining good code quality.</p>
</li>
<li>
<p>Product ideation and brainstorming, contributions to GUI design and user testing.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Beyond the team:</p>
<div class="ulist">
<ul>
<li>
<p>Peer testing and bug reporting: <a href="https://github.com/jeremylow97/ped/issues/1">#1</a>, <a href="https://github.com/jeremylow97/ped/issues/2">#2</a>, <a href="https://github.com/jeremylow97/ped/issues/3">#3</a>, <a href="https://github.com/jeremylow97/ped/issues/4">#4</a>, <a href="https://github.com/jeremylow97/ped/issues/5">#5</a>, <a href="https://github.com/jeremylow97/ped/issues/6">#6</a>, <a href="https://github.com/jeremylow97/ped/issues/7">#7</a>, <a href="https://github.com/jeremylow97/ped/issues/8">#8</a>, <a href="https://github.com/jeremylow97/ped/issues/9">#9</a>, <a href="https://github.com/jeremylow97/ped/issues/10">#10</a>, <a href="https://github.com/jeremylow97/ped/issues/11">#11</a>, <a href="https://github.com/jeremylow97/ped/issues/12">#12</a>, <a href="https://github.com/jeremylow97/ped/issues/13">#13</a>, <a href="https://github.com/jeremylow97/ped/issues/14">#14</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="contributions-to-the-user-guide"><a class="link" href="#contributions-to-the-user-guide">Contributions to the User Guide</a></h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Given below are sections I contributed to the User Guide. They showcase my ability to write documentation targeting end-users. Please note that some hyperlinks may not work as the guide is not part of this portfolio.</em></p></td>
</tr>
</tbody>
</table>
<div class="sect2">
<h3 id="code-delete-code-deleting-a-code-food-code-from-current-code-food-record-code"><a class="link" href="#code-delete-code-deleting-a-code-food-code-from-current-code-food-record-code"><code>delete</code> : Deleting a <code>Food</code> from current <code>Food Record</code></a></h3>
<div class="paragraph">
<p>(by Zhang Xian)</p>
</div>
<div class="paragraph">
<p>If you no longer require Calgo to store a particular <code>Food</code> and its nutritional values for you, you can use the <code>delete</code> command
to remove the specified <code>Food</code> from your <code>Food Record</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The <code>Food</code> that you wish to <code>delete</code> must already exist in the current <code>Food Record</code>.
</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
For your convenience, the <code>NAME</code> field of your input for the <code>delete</code> command is case insensitive. Therefore, <code>n/Pizza</code>
and <code>n/pizza</code> are treated by Calgo as the same <code>Food</code>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Format: <code>delete n/NAME</code></p>
</div>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="paragraph">
<p>Say you want to remove a <code>Food</code>, <code>Pizza</code>, that already exists in your <code>Food Record</code>. This is how you can do it:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/DeleteCommandBefore.png" alt="DeleteCommandBefore">
</div>
</div>
<div class="paragraph">
<p>You should first enter <code>delete n/pizza</code> as input, and press <kbd>enter</kbd>. Note that <code>delete n/Pizza</code> also has the same effect.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/DeleteCommandAfter.png" alt="DeleteCommandAfter">
</div>
</div>
<div class="paragraph">
<p>Once the command has been entered, the <code>Result Display</code> shows the results of your command and the <code>Food Record</code> no longer shows
a <code>Food</code> entry for <code>Pizza</code>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="contributions-to-the-developer-guide"><a class="link" href="#contributions-to-the-developer-guide">Contributions to the Developer Guide</a></h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Given below are sections I contributed to the Developer Guide. They showcase my ability to write technical documentation and the technical depth of my contributions to the project. Please note that some hyperlinks may not work as the guide is not part of this portfolio.</em></p></td>
</tr>
</tbody>
</table>
<div class="sect2">
<h3 id="Implementation-RealTimeSuggestion"><a class="link" href="#Implementation-RealTimeSuggestion">Real-time Suggestions for existing <code>Food</code> in <code>FoodRecord</code></a></h3>
<div class="paragraph">
<p>(By Zhang Xian)</p>
</div>
<div class="paragraph">
<p>This section addresses how the GUI <code>Result Display</code> suggests <code>Food</code> with similar <code>Name</code> to the user for the commands <code>update</code>, <code>delete</code> and <code>nom</code>.</p>
</div>
<div class="paragraph">
<p>When the user have many <code>Food</code> entries in the <code>FoodRecord</code>, they may have difficulties finding out if a particular <code>Food</code> exists in the <code>FoodRecord</code>.
For better user experience, this feature listens to the input of the user for these three commands and suggests similar existing <code>Food</code> entries in real time in the GUI&#8217;s
<code>Result Display</code>.</p>
</div>
<div class="paragraph">
<p>This feature listens to the input of the user after the <code>Prefix</code> <code>n/</code> and checks if there is a <code>Food</code> entry in the <code>FoodRecord</code> with a similar <code>Name</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The <code>Name</code> parameter is case-insensitive and searches the <code>Food</code> entries in the <code>FoodRecord</code> by whether they start with the user input so far after the
<code>Prefix</code> <code>n/</code>.
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="implementation"><a class="link" href="#implementation">Implementation</a></h4>
<div class="paragraph">
<p>To be able to process user&#8217;s input in real-time, we set a <code>listener</code> in the <code>CommandBox</code> to listen for the input of any of the three commands: <code>update</code>, <code>delete</code> or <code>nom</code>
This feature is then facilitated by different objects, mainly <code>MainWindow</code> and <code>UniqueFoodList</code>. <code>MainWindow</code> interacts with <code>LogicManager</code> 's method of <code>getSimilarFood</code> which exposes
the <code>FoodRecord</code>, allowing a filtered list of similar <code>Food</code> entries in the <code>UniqueFoodList</code> to be returned back to the user.</p>
</div>
<div class="paragraph">
<p>A predicate, <code>FoodRecordContainsFoodNamePredicate</code> is also essential in this implementation in ensuring that the correct similar <code>Food</code> items can be filtered from the <code>UniqueFoodList</code>
back to the <code>LogicManager</code> to be displayed by the GUI. The <code>test</code> method of this predicate which is responsible for the above is shown:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">boolean</span> test(Food food) {
    <span class="type">boolean</span> foodStartsWithInputFoodName = food.getName().fullName.toLowerCase()
        .startsWith(foodName.toLowerCase().trim());
    <span class="type">boolean</span> inputFoodNameStartsWithFood = foodName.toLowerCase().trim()
        .startsWith(food.getName().fullName.toLowerCase());

    <span class="keyword">return</span> foodStartsWithInputFoodName || inputFoodNameStartsWithFood;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Both of the <code>boolean</code> used for this predicate is essential. For instance, if "Laksa is already present" in the <code>FoodRecord</code>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If the user keys in "Lak", the first <code>boolean</code> <code>foodStartsWithInputFoodName</code> ensures that "Laksa" will be suggested to the user.</p>
</li>
<li>
<p>If the user keys in "Laksa Spicy", the second <code>boolean</code> <code>inputFoodNameStartsWithFood</code> ensures that "Laksa" will be suggested to the user.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The following sequence diagram will explain how the different objects interact to achieve the Real-time Suggestion Feature.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/RealTimeSuggestionSequenceDiagram.png" alt="RealTimeSuggestionSequenceDiagram">
</div>
<div class="title">Figure 1. Real-time Suggestion Feature Sequence Diagram</div>
</div>
<div class="paragraph">
<p>Based on the above diagram, when a user has already entered any of the <code>CommandWord</code>: <code>update</code>, <code>delete</code> or <code>nom</code>, and also the Prefix <code>n/</code>:</p>
</div>
<div class="paragraph">
<p>Step 1: <code>CommandBox</code> calls the <code>MainWindow</code> method of <code>getSuggestions</code> with the parameter as the entire <code>String</code> of user input in the <code>CommandBox</code>.</p>
</div>
<div class="paragraph">
<p>Step 2: <code>MainWindow</code> then parses the user inputted <code>String</code> and calls <code>LogicManager</code> method of <code>getSimilarFood</code> with the parameter <code>foodName</code> which is the entire <code>String</code> after the <code>Prefix</code> <code>n/</code></p>
</div>
<div class="paragraph">
<p>Step 3: The <code>Model</code> then does the necessary work by calling methods <code>getFoodRecord</code> and <code>getFoodList</code>. This results in the current <code>UniqueFoodList</code> being returned</p>
</div>
<div class="paragraph">
<p>Step 4: The <code>UniqueFoodList</code> is then filtered with the <code>Predicate&lt;Food&gt;</code>, <code>FoodRecordContainsFoodNamePredicate</code> which returns a <code>List&lt;Food&gt;</code> of <code>Food</code> objects that have similar <code>Name</code> fields to the user input.</p>
</div>
<div class="paragraph">
<p>Step 5: Finally, the filtered <code>List&lt;Food&gt;</code> is then parsed into a <code>String</code> for the user by the <code>MainWindow</code> and then displayed in the GUI&#8217;s <code>Result Display</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="design-considerations"><a class="link" href="#design-considerations">Design Considerations</a></h4>
<div class="sect4">
<h5 id="aspect-how-the-suggestions-is-shown-to-the-user"><a class="link" href="#aspect-how-the-suggestions-is-shown-to-the-user">Aspect: How the suggestions is shown to the user.</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1: (current choice):</strong> <code>ResultDisplay</code> displays the names of similar <code>Food</code> entries in <code>Food Record</code>.</p>
<div class="ulist">
<ul>
<li>
<p>Pros:</p>
<div class="ulist">
<ul>
<li>
<p>Improved user experience, allowing user to still view the unfiltered <code>FoodRecord</code> in the GUI.</p>
</li>
<li>
<p>User can have access to the raw <code>String</code> of the <code>Name</code> similar <code>Food</code> entries for copying and pasting.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Cons:</p>
<div class="ulist">
<ul>
<li>
<p>Additional interacting with <code>UI</code> components required, instead of just filtering <code>UniqueFoodList</code></p>
</li>
<li>
<p>Cannot reusing existing lexicographical sorting feature of <code>FoodRecord</code>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong> Filter the GUI&#8217;s <code>Food Record</code> to show similar Food entries.</p>
<div class="ulist">
<ul>
<li>
<p>Pros:</p>
<div class="ulist">
<ul>
<li>
<p>Feature is limited to minimal interactions with <code>UI</code>, making use of existing <code>UI</code>-<code>Model</code> abstractions.</p>
</li>
<li>
<p>Compatible with existing code relating to the <code>FoodRecord</code>, allowing code to be reused.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Cons:</p>
<div class="ulist">
<ul>
<li>
<p>Takes away most of the need for <code>find</code> and <code>list</code> features since they achieve mostly the same purpose.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="aspect-commands-that-utilise-real-time-suggestions"><a class="link" href="#aspect-commands-that-utilise-real-time-suggestions">Aspect: Commands that utilise Real-time Suggestions</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1: (current choice):</strong> Only three commands: <code>update</code>, <code>delete</code>, <code>nom</code></p>
<div class="ulist">
<ul>
<li>
<p>Pros:</p>
<div class="ulist">
<ul>
<li>
<p>Improves computational performance, since real-time features for every command will be computationally expensive.</p>
</li>
<li>
<p>Keeps the desired outcomes of other features such as <code>find</code> and <code>list</code> intact</p>
</li>
</ul>
</div>
</li>
<li>
<p>Cons:</p>
<div class="ulist">
<ul>
<li>
<p>Decrease in user experience, as they might expect this feature to be universal for all commands</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2</strong> All the commands</p>
<div class="ulist">
<ul>
<li>
<p>Pros:</p>
<div class="ulist">
<ul>
<li>
<p>Better standardisation of feature across all commands.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Cons:</p>
<div class="ulist">
<ul>
<li>
<p>Additional computational overhead.</p>
</li>
<li>
<p>Not all commands have a <code>Name</code> field.</p>
</li>
<li>
<p>Additional implementation or significant change in how this feature works is necessary to make it universal.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="summary"><a class="link" href="#summary">Summary</a></h4>
<div class="paragraph">
<p><code>CommandBox</code> listens for any of the three commands as mentioned, allowing <code>LogicManager</code> and <code>FoodRecord</code> to facilitate
the suggestions of similar <code>Food</code> entries from the <code>UniqueFoodList</code> to display in the GUI&#8217;s <code>Result Display</code>. This can be summarised
in the activity diagram below:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/RealTimeSuggestionActivityDiagram.png" alt="RealTimeSuggestionActivityDiagram">
</div>
<div class="title">Figure 2. Real-time Suggestion Feature Activity Diagram</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="Implementation-SmartUpdate"><a class="link" href="#Implementation-SmartUpdate">Modifying the <code>FoodRecord</code></a></h3>
<div class="paragraph">
<p>(By Zhang Xian)</p>
</div>
<div class="paragraph">
<p>This section addresses how the <code>FoodRecord</code> can be modified by the <code>update</code> and <code>delete</code> commands.</p>
</div>
<div class="paragraph">
<p>The <code>update</code> command allows the user to modify the <code>FoodRecord</code> by either adding a new <code>Food</code> into the <code>FoodRecord</code> or editing the
nutritional values of an existing <code>Food</code> in the <code>FoodRecord</code>.</p>
</div>
<div class="paragraph">
<p>From the user&#8217;s perspective, the <code>update</code> command does either of the adding and editing functions. This implementation of <code>update</code> decides whether to
override an existing <code>Food</code> in the <code>FoodRecord</code> with new values, or create a new <code>Food</code> in the <code>FoodRecord</code> for them.</p>
</div>
<div class="paragraph">
<p>For better user experience, for all new <code>Food</code> being updated into the <code>FoodRecord</code> with the <code>update</code> command, the <code>Name</code> attribute
will be formatted to proper case. This means that if the user updates a new <code>Food</code> into the <code>FoodRecord</code> with the <code>Name</code> as "char kuay teow", the <code>Food</code> that
is stored in the <code>FoodRecord</code> will be of <code>Name</code> "Char Kuay Teow".</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
When a new Food is updated into the FoodRecord, the FoodRecord is sorted in lexicographical order. For more information on how this is implemented,
please refer to its relevant section <a href="#Implementation-LexicographicalOrder">here</a>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The <code>delete</code> command allows the user to modify the FoodRecord by deleting a specified <code>Food</code> entry from the FoodRecord.
This command takes in the <code>Name</code> of the <code>Food</code> entry to be deleted.</p>
</div>
<div class="paragraph">
<p>For both <code>delete</code> and <code>update</code> commands, the <code>Name</code> parameter is implemented to be case-insensitive. This means that <code>n/APPLE</code> and <code>n/apple</code> refers to
the same <code>Food</code> entry with <code>Name</code> stored as <code>Apple</code>.</p>
</div>
<div class="sect3">
<h4 id="implementation-2"><a class="link" href="#implementation-2">Implementation</a></h4>
<div class="paragraph">
<p>The modification of the <code>FoodRecord</code> is facilitated by <code>UniqueFoodList</code>, which is responsible for storing all the <code>Food</code> entries in the <code>FoodRecord</code>.
Additional abstractions were used by <code>Model</code> and <code>Logic</code> for any operations that results in a modification of the <code>UniqueFoodList</code>.</p>
</div>
<div class="paragraph">
<p>Both commands require an additional operation, <code>hasFood</code>, in <code>FoodRecord</code> to be implemented. <code>hasFood</code> checks if there is an existing <code>Food</code> in <code>FoodRecord</code>
by checking if there is any <code>Food</code> in the <code>FoodRecord</code> with the same <code>Name</code>. Two <code>Food</code> entries is deemed to be of the same <code>Name</code> if their lowercase variant
is the same.</p>
</div>
<div class="paragraph">
<p>This operation was exposed in the <code>Model</code> interface as <code>hasFood</code>, allowing <code>UpdateCommand</code> and <code>DeleteCommand</code> this functionality.</p>
</div>
<div class="sect4">
<h5 id="implementation-of-code-update-code-command"><a class="link" href="#implementation-of-code-update-code-command">Implementation of <code>update</code> command:</a></h5>
<div class="paragraph">
<p>For the <code>update</code> command, the <code>hasFood</code> operation decides whether <code>UpdateCommand</code> adds a new <code>Food</code> into <code>UniqueFoodList</code> or
edits the nutritional values of an existing <code>Food</code> in the <code>UniqueFoodList</code>.</p>
</div>
<div class="paragraph">
<p>The following sequence diagram shows how the <code>update</code> operation works in both cases:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/UpdateSequenceDiagram.png" alt="UpdateSequenceDiagram">
</div>
<div class="title">Figure 3. Sequence Diagram for <code>update</code> command</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The lifeline for <code>UpdateCommandParser</code> and <code>UpdateCommand</code> should end at their destroy markers (X) but due to a limitation of PlantUML, the lifelines reach the end of diagram.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>How the <code>update</code> command works:</p>
</div>
<div class="paragraph">
<p>Step 1: <code>LogicManager</code> executes the user input of <code>update n/apple cal/52 p/2 c/14 f/1", using `CalgoParser</code> to realise this is
an <code>update</code> command and creates a new <code>UpdateCommandParser</code> object.</p>
</div>
<div class="paragraph">
<p>Step 2: <code>UpdateCommandParser</code> then parses the arguments provided by <code>CalgoParser</code> with the <code>parse</code> method.
During this parsing process, <code>UpdateCommandParser</code> calls the <code>covertToTitleCase</code> method on the <code>Name</code> argument, converting it
to proper case.</p>
</div>
<div class="paragraph">
<p>Step 3: <code>UpdateCommandParser</code> then creates a new <code>UpdateCommand</code> object, which <code>LogicManager</code> calls the <code>execute</code> method with this object
as an argument.</p>
</div>
<div class="paragraph">
<p>Step 4: <code>UpdateCommand</code> now checks if there exists an existing <code>Food</code> in the <code>FoodRecord</code> by calling <code>Model</code> 's
<code>hasFood</code> method.</p>
</div>
<div class="paragraph">
<p>Step 5:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Scenario 1:
If Food already exists in the <code>FoodRecord</code>:</p>
<div class="ulist">
<ul>
<li>
<p>Model calls the <code>getExistingFood</code> method with the user inputted <code>Food</code>
as a parameter to get the existing <code>Food</code>, <code>existingFood</code> in the <code>UniqueFoodList</code>. It thens call the <code>setFood</code> method to replace the
existing <code>Food</code> in the <code>UniqueFoodList</code> with the new <code>Food</code> which contains new nutritional values.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Scenario 2:
If <code>Food</code> does not exist in <code>FoodRecord</code>:</p>
<div class="ulist">
<ul>
<li>
<p>This scenario is handled by the Lexicographical Ordering feature. Please refer to its relevant section <a href="#Implementation-LexicographicalOrder">here</a>.</p>
</li>
<li>
<p>Model calls the <code>addFood</code> method with the user inputted <code>Food</code> as a parameter to add the new <code>Food</code> into the <code>UniqueFoodList</code> in <code>FoodRecord</code></p>
</li>
<li>
<p>After the <code>Food</code> is added into the <code>UniqueFoodList</code>, the <code>UniqueFoodList</code> is also sorted in lexicographical order.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Step 6: A new <code>CommandResult</code> object is then created and returned back to <code>LogicManager</code>.</p>
</div>
</div>
<div class="sect4">
<h5 id="implementation-of-code-delete-code-command"><a class="link" href="#implementation-of-code-delete-code-command">Implementation of <code>delete</code> command:</a></h5>
<div class="paragraph">
<p>For the <code>delete</code> command, the <code>hasFood</code> operation allows <code>UpdateCommand</code> to check whether the Food that the user requests to be
deleted exists in the <code>UniqueFoodList</code>.</p>
</div>
<div class="paragraph">
<p>The following sequence diagram shows how the <code>delete</code> command works:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/DeleteSequenceDiagram.png" alt="DeleteSequenceDiagram">
</div>
<div class="title">Figure 4. Sequence Diagram for <code>delete</code> command</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The lifeline for <code>DeleteCommandParser</code> and <code>DeleteCommand</code> should end at their destroy markers (X) but due to a limitation of PlantUML, the lifelines reach the end of diagram.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>How the <code>delete</code> command works:</p>
</div>
<div class="paragraph">
<p>Step 1:  <code>LogicManager</code> executes the user input of "delete n/Apple", using <code>CalgoParser</code> to realise this is
an <code>delete</code> command and creates a new <code>DeleteCommandParser</code> object.</p>
</div>
<div class="paragraph">
<p>Step 2: <code>DeleteCommandParser</code> then parses the arguments provided by <code>CalgoParser</code> with the <code>parse</code> method, before creating a new
<code>DeleteCommand</code> object that is returned back to the <code>LogicManager</code> which calls the <code>execute</code> method with this as an argument.</p>
</div>
<div class="paragraph">
<p>Step 3: <code>DeleteCommand</code> now checks if there exists an existing <code>Food</code> in the <code>FoodRecord</code> by calling <code>Model&#8217;s `hasFood</code> method, which
checks if there is such <code>Food</code> in the <code>UniqueFoodList</code>.</p>
</div>
<div class="paragraph">
<p>Step 4: <code>Model</code> then calls the <code>getExistingFood</code> method to return the <code>Food</code> object to be removed from the <code>UniqueFoodList</code>. Thereafter,
<code>Model</code> calls the <code>deleteFood</code> method with this <code>Food</code> object as an argument to remove this <code>Food</code> from the <code>UniqueFoodList</code>.</p>
</div>
<div class="paragraph">
<p>Step 5: A new <code>CommandResult</code> object is then created and returned back to the <code>LogicManager</code>.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect3">
<h4 id="design-considerations-2"><a class="link" href="#design-considerations-2">Design considerations</a></h4>
<div class="sect4">
<h5 id="aspect-updating-the-code-foodrecord-code-when-there-is-an-existing-code-food-code-item-in-code-foodrecord-code"><a class="link" href="#aspect-updating-the-code-foodrecord-code-when-there-is-an-existing-code-food-code-item-in-code-foodrecord-code">Aspect: Updating the <code>FoodRecord</code> when there is an existing <code>Food</code> item in <code>FoodRecord</code></a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong> Overrides the existing <code>Food</code> item with the new <code>Food</code> item</p>
<div class="ulist">
<ul>
<li>
<p>Pros:</p>
<div class="ulist">
<ul>
<li>
<p>No need for an additional command of <code>edit</code> just for the user to edit an existing <code>Food</code> item in the <code>FoodRecord</code>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Cons:</p>
<div class="ulist">
<ul>
<li>
<p>Might not be intuitive for the user since the word "update" is generally assumed to be for editing something only and not necessarily adding something.</p>
</li>
<li>
<p>May result in additional performance overhead.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong> Informs the user that there is already an existing <code>Food</code> item, and direct him to use another command <code>edit</code> to edit the existing <code>Food</code> instead.</p>
<div class="ulist">
<ul>
<li>
<p>Pros:</p>
<div class="ulist">
<ul>
<li>
<p>More intuitive for user, since he might not know that he is overriding an existing <code>Food</code> item</p>
</li>
</ul>
</div>
</li>
<li>
<p>Cons:</p>
<div class="ulist">
<ul>
<li>
<p>Additional command has to be created just to handle editing</p>
</li>
<li>
<p>More tedious for user since more steps are required to achieve the same result.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="summary-2"><a class="link" href="#summary-2">Summary</a></h4>
<div class="paragraph">
<p>In summary, this section explains how commands related to modifying the <code>FoodRecord</code> is implemented.</p>
</div>
<div class="paragraph">
<p>The <code>update</code> command is a smart command that either updates an existing <code>Food</code> entry in the <code>FoodRecord</code> with new nutritional information,
or updates a new <code>Food</code> item into the <code>FoodRecord</code>
The following activity diagram summarises what happens when a user enters a valid <code>update</code> command:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/UpdateActivityDiagram.png" alt="UpdateActivityDiagram">
</div>
<div class="title">Figure 5. Activity Diagram for <code>update</code> command</div>
</div>
<div class="paragraph">
<p>The <code>delete</code> command allows the user to remove a <code>Food</code> entry from the <code>FoodRecord</code> by specifying it&#8217;s <code>Name</code> as an parameter.
The following activity diagram summarises what happens when a user enters a valid 'delete' command:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/DeleteActivityDiagram.png" alt="DeleteActivityDiagram">
</div>
<div class="title">Figure 6. Activity Diagram for <code>delete</code> command</div>
</div>
</div>
</div>
</div>
</div></div><div id="footer"><div class="container"><div id="footer-text">Last updated 2020-04-13 14:44:21 UTC</div></div></div></body></html>